# 1. 用户与用户组（Users and Groups）

在任何传统的操作系统中，都会存在“用户”和“用户组”的概念，它们存在的唯一目的就是**进行访问控制和权限管理**

当系统运行一个进程，它是以该进程所属的用户的身份运行的。文件的访问权限和所有权也是基于用户身份判断的。你当然不希望 Elo 随便访问 Mo 的文件，反之亦然

每个用户都有一个专属的主目录，用于存储用户的个人文件，通常位于：

```bash
/home/example_username
```

不同的 Linux 发行版中，路径位置可能略有不同

所以，系统是如何识别用户的？



系统使用 **UID（用户 ID）** 来识别每一个用户

- 用户名只是为了方便人类使用和记忆
- 但是系统内部的识别是依靠 UID

同样地，系统使用 **GID（组 ID）** 来识别用户组

- 用户组是一组用户的集合
- 系统可以为一个组统一设置权限
- 所有属于这个组的用户都继承这个权限



**除了人类用户以外，还有系统用户**

在 Linux 中，除了你创建的普通用户以外，还有一些特殊的用户存在于系统中，这些用户通常是**系统进程（daemon）**的运行身份，它们保持系统在后台稳定运行



所有用户中，最重要的系统用户是 `root`，也叫超级用户（superuser）

- `root` 是系统中权限最大的用户，可以访问任何文件，启动或终止任何进程
- 正因为 `root` 权限无限，所以**不建议长期使用 root 身份操作系统**，因为如果不小心，可能会破坏整个系统

如果需要以 `root` 权限运行某个命令，在拥有使用 `sudo` 的权限的情况下，可以使用：

```bash
sudo example_command
```

`sudo` 是 **superuser do** 的缩写，意思是“以超级用户执行操作”





、

也许你到此还是看的云里雾里的，接下来我会创建一个具体的场景，继续深入理解用户、用户组以及权限：

//todo

## 2. root

前面已经够学习过获取超级用户权限的方法：使用 `sudo` 命令。除此之外，你也可以使用 `su` 命令来运行超级用户身份运行命令

**su** 是  “substitute user” 的缩写，表示**切换用户**

如果你不指定用户名，它会默认切换到 `root`  用户

```bash
$ su
```

如果你知道目标用户的密码，你就可以通过 `su example_username` 切换到任何用户

这种方法有一些缺点：

- 一旦切换为了 `root`，后面执行的每一个命令都有**最高权限**，稍有疏忽可能会导致严重问题
- 使用 `su` 切换后执行的操作，不会记录在 `sudo` 的日志内，**无法具体追踪谁做了什么修改**

因为，使用 `sudo` ，**是更安全、更规范的方式**



**那么，系统如何找到谁可以使用 `sudo` ？**

它通过一个配置文件管理：

```bash
/etc/sudoers
```

该文件列出了**哪些用户可以使用 sudo 命令**，并指定了它们执行那些命令、是否需要密码的规则

**修改文件应该使用专用命令 `visudo`，因为它会检查语法，防止配置错误导致 `sudo` 完全失效**

```bash
sudo visudo
```

